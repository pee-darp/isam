<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>iSAM: isam::Optimizer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">iSAM
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classisam_1_1Optimizer.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classisam_1_1Optimizer-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">isam::Optimizer Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a294d5e994f21cda173479b0a4e814d75"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a294d5e994f21cda173479b0a4e814d75"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>Optimizer</b> (<a class="el" href="classisam_1_1OptimizationInterface.html">OptimizationInterface</a> &amp;fs)</td></tr>
<tr class="separator:a294d5e994f21cda173479b0a4e814d75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefe72ca9a415224b8c6e37b0c12053de"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classisam_1_1Optimizer.html#aefe72ca9a415224b8c6e37b0c12053de">batch_optimize</a> (const <a class="el" href="classisam_1_1Properties.html">Properties</a> &amp;prop, int *num_iterations)</td></tr>
<tr class="separator:aefe72ca9a415224b8c6e37b0c12053de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4f1b46632ef2ae974d349bf01a0093f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classisam_1_1Optimizer.html#ad4f1b46632ef2ae974d349bf01a0093f">augment_sparse_linear_system</a> (<a class="el" href="classisam_1_1SparseSystem.html">SparseSystem</a> &amp;W, const <a class="el" href="classisam_1_1Properties.html">Properties</a> &amp;prop)</td></tr>
<tr class="separator:ad4f1b46632ef2ae974d349bf01a0093f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54b2049a49c5772b6607bed443bd8c28"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classisam_1_1Optimizer.html#a54b2049a49c5772b6607bed443bd8c28">relinearize</a> (const <a class="el" href="classisam_1_1Properties.html">Properties</a> &amp;prop)</td></tr>
<tr class="separator:a54b2049a49c5772b6607bed443bd8c28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a499392a51397e819a4d4f76f71a32b00"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classisam_1_1Optimizer.html#a499392a51397e819a4d4f76f71a32b00">update_estimate</a> (const <a class="el" href="classisam_1_1Properties.html">Properties</a> &amp;prop)</td></tr>
<tr class="separator:a499392a51397e819a4d4f76f71a32b00"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="Optimizer_8h_source.html#l00041">41</a> of file <a class="el" href="Optimizer_8h_source.html">Optimizer.h</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ad4f1b46632ef2ae974d349bf01a0093f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void isam::Optimizer::augment_sparse_linear_system </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classisam_1_1SparseSystem.html">SparseSystem</a> &amp;&#160;</td>
          <td class="paramname"><em>W</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classisam_1_1Properties.html">Properties</a> &amp;&#160;</td>
          <td class="paramname"><em>prop</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Used to augment the sparse linear system by adding new measurements. Only useful in incremental mode. </p>

<p>Definition at line <a class="el" href="Optimizer_8cpp_source.html#l00192">192</a> of file <a class="el" href="Optimizer_8cpp_source.html">Optimizer.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="aefe72ca9a415224b8c6e37b0c12053de"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void isam::Optimizer::batch_optimize </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classisam_1_1Properties.html">Properties</a> &amp;&#160;</td>
          <td class="paramname"><em>prop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>num_iterations</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Perform batch optimization using the method set in prop </p>

<p>Definition at line <a class="el" href="Optimizer_8cpp_source.html#l00535">535</a> of file <a class="el" href="Optimizer_8cpp_source.html">Optimizer.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a54b2049a49c5772b6607bed443bd8c28"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void isam::Optimizer::relinearize </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classisam_1_1Properties.html">Properties</a> &amp;&#160;</td>
          <td class="paramname"><em>prop</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Computes the <a class="el" href="classisam_1_1Jacobian.html">Jacobian</a> J(x_est) of the residual error function about the current estimate x_est, computes the thin QR factorization of J(x_est), and then stores (R,d) as a <a class="el" href="classisam_1_1SparseSystem.html">SparseSystem</a>, where</p>
<p>Q^t f(x_est) = | d | | e |</p>
<p>and || e ||^2 is the squared residual error.</p>
<p>NOTA BENE: (Deeply) Internally, this algorithm uses the SuiteSparse library to perform the matrix decomposition shown above. The SuiteSparse library utilizes variable reordering in order to reduce fill-in and boost efficiency. Consequently, the ordering (i.e., naming) of variables in the <a class="el" href="classisam_1_1SparseSystem.html">SparseSystem</a> computed by this function differs from the ordering (naming) of the variables in the <a class="el" href="classisam_1_1Graph.html">Graph</a> object contained in the <a class="el" href="classisam_1_1Slam.html">Slam</a> class.</p>
<p>The mappings between the two orderings can be obtained using <a class="el" href="classisam_1_1OrderedSparseMatrix.html#adbdeda6eccf0f8e2702d9da168915414">OrderedSparseMatrix::a_to_r()</a> and <a class="el" href="classisam_1_1OrderedSparseMatrix.html#ab5b2b758206644399089ff8688ac291f">OrderedSparseMatrix::r_to_a()</a>. These functions return const int*'s that point to internal arrays encoding the permutation between the naming of variables passed in to the factorization routine, and the naming of variables in the factored matrices returned by the relinearization.</p>
<p>More precisely, if</p>
<p>const int* order = function_system._R.a_to_r();</p>
<p>then the variable x_i from the <a class="el" href="classisam_1_1Graph.html">Graph</a> object stored the <a class="el" href="classisam_1_1Slam.html">Slam</a> class is mapped to the variable x_{order[i]} in the <a class="el" href="classisam_1_1SparseSystem.html">SparseSystem</a> obtained after linearization.</p>
<p>The call</p>
<p>const int* inverse_order = function_system._R.r_to_a();</p>
<p>retrieves the inverse permutation. </p>

<p>Definition at line <a class="el" href="Optimizer_8cpp_source.html#l00110">110</a> of file <a class="el" href="Optimizer_8cpp_source.html">Optimizer.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a499392a51397e819a4d4f76f71a32b00"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void isam::Optimizer::update_estimate </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classisam_1_1Properties.html">Properties</a> &amp;&#160;</td>
          <td class="paramname"><em>prop</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Updates the current estimated solution </p>

<p>Definition at line <a class="el" href="Optimizer_8cpp_source.html#l00225">225</a> of file <a class="el" href="Optimizer_8cpp_source.html">Optimizer.cpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/isam/<a class="el" href="Optimizer_8h_source.html">Optimizer.h</a></li>
<li>isamlib/<a class="el" href="Optimizer_8cpp_source.html">Optimizer.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>isam</b></li><li class="navelem"><a class="el" href="classisam_1_1Optimizer.html">Optimizer</a></li>
    <li class="footer">Generated on Thu Feb 27 2020 15:13:08 for iSAM by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
